(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7441:e=>{"use strict";e.exports=require("sharp")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},5818:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,originalPathname:()=>u,pages:()=>p,routeModule:()=>x,tree:()=>c});var s=r(482),a=r(9108),n=r(2563),i=r.n(n),l=r(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1136)),"D:\\typescript\\src\\app\\page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,3576)),"D:\\typescript\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["D:\\typescript\\src\\app\\page.tsx"],u="/page",d={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8705:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},5408:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1900,23)),Promise.resolve().then(r.t.bind(r,1476,23))},9772:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1476,23)),Promise.resolve().then(r.bind(r,8800))},8800:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(2295),a=r(3729),n=r(2254);function i(){let[e,t]=(0,a.useState)(""),r=(0,n.useRouter)();return s.jsx("form",{className:"flex justify-center md:justify-between",onSubmit:s=>{s.preventDefault(),e&&r.push(`/results/${e}`),t("")},children:s.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search",className:"bg-white p-2 w-[260px] sm:w-80 text-xl rounded-xl text-black"})})}},5815:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var s=r(5036),a=r(2196);let n=a.z.object({page:a.z.number(),per_page:a.z.number(),prev_page:a.z.string().optional(),next_page:a.z.string().optional(),total_results:a.z.number()}),i=a.z.object({id:a.z.number(),width:a.z.number(),height:a.z.number(),url:a.z.string(),src:a.z.object({large:a.z.string()}),alt:a.z.string(),blurredDataUrl:a.z.string().optional()}),l=n.extend({photos:a.z.array(i)});var o=r(2202);let c=(0,o.cleanEnv)(process.env,{PEXELS_API_KEY:(0,o.str)()});async function p(e){try{let t=await fetch(e,{headers:{Authorization:c.PEXELS_API_KEY}});if(!t.ok)throw Error("Fetch Images error!\n");let r=await t.json(),s=l.parse(r);if(0===s.total_results)return;return s}catch(e){e instanceof Error&&console.log(e.stack)}}var u=r(5904),d=r.n(u),x=r(646),h=r.n(x);function m({photo:e}){let t=e.height/e.width;return s.jsx("div",{className:"w-[250px] justify-self-center",style:{gridRow:`span ${Math.ceil(Math.ceil(250*t)/10)+1}`},children:s.jsx(h(),{href:e.url,target:"_blank",className:"grid place-content-center",children:s.jsx("div",{className:"rounded-xl overflow-hidden group",children:s.jsx(d(),{src:e.src.large,alt:e.alt,width:e.width,height:e.height,sizes:"250px",placeholder:"blur",blurDataURL:e.blurredDataUrl,className:"group-hover:opacity-75"})})})})}var g=r(7687);async function f(e){try{let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch image: ${t.status} ${t.statusText}`);let r=await t.arrayBuffer(),{base64:s}=await (0,g.X)(Buffer.from(r));return s}catch(e){e instanceof Error&&console.log(e.stack)}}async function v(e){let t=e.photos.map(e=>f(e.src.large)),r=await Promise.all(t);return e.photos.map((e,t)=>(e.blurredDataUrl=r[t],e))}function b(e){let{searchParams:t}=new URL(e);return t.get("page")}function w({topic:e,page:t,prevPage:r,nextPage:a}){if(!r&&!a)return;let n=[];if(r&&a)for(let e=parseInt(r)+1;e<parseInt(a);e++)n.push(e);let i=a?(0,s.jsxs)(h(),{href:`/results/${e}/${a}`,className:r?"":"mx-auto",children:[r?null:"more"," >>>"]}):null,l=r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(h(),{href:`/results/${e}/${r}`,className:a?"":"mx-auto",children:["<<< ",a?null:"back"]}),n.map((r,a)=>t&&r===parseInt(t)?s.jsx("span",{children:r},a):s.jsx(h(),{href:`/results/${e}/${r}`,className:"underline",children:r},a))]}):null;return(0,s.jsxs)("footer",{className:"flex flex-row justify-between items-center px-2 py-4 font-bold w-60 mx-auto",children:[l,i]})}async function j({topic:e="curated",page:t}){let r;r="curated"===e&&t?`https://api.pexels.com/v1/curated?page=${t}`:"curated"===e?"https://api.pexels.com/v1/curated":t?`https://api.pexels.com/v1/search?query=${e}&page=${t}`:`https://api.pexels.com/v1/search?query=${e}`;let a=await p(r);if(!a||0===a.per_page)return s.jsx("h2",{className:"m-4 text-2xl font-bold",children:"No Images Found"});let n=await v(a),{prevPage:i,nextPage:l}=function(e){let t=e?.next_page?b(e.next_page):null,r=e?.prev_page?b(e.prev_page):null,s=e.total_results%e.per_page?Math.ceil(e.total_results/e.per_page):e.total_results/e.per_page+1;return r&&parseInt(r)+5<s&&(t=(parseInt(r)+5).toString()),t&&parseInt(t)>=s&&(t=null),{prevPage:r,nextPage:t}}(a);return(0,s.jsxs)(s.Fragment,{children:[s.jsx("section",{className:"px-1 my-3 grid grid-cols-gallery auto-rows-[10px]",children:n.map(e=>s.jsx(m,{photo:e},e.id))}),s.jsx(w,{topic:e,page:t,nextPage:l,prevPage:i})]})}},3576:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>d,revalidate:()=>u});var s=r(5036);r(5023);var a=r(646),n=r.n(a);let i=(0,r(6843).createProxy)(String.raw`D:\typescript\src\app\components\Search.tsx`),{__esModule:l,$$typeof:o}=i,c=i.default;function p(){return s.jsx("header",{className:"bg-black sticky top-0 z-10",children:(0,s.jsxs)("nav",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between items-center p-4 font-bold max-w-6xl mx-auto text-white",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl text-center whitespace-nowrap",children:s.jsx(n(),{href:"/",children:"Next.js Image Gallery"})}),s.jsx(c,{})]})})}let u=3600,d={title:"Next.js Image Gallery",description:"A responsive and dynamic image gallery built with Next.js, showcasing the power and flexibility of server-side rendering (SSR) and image optimization features. Explore a seamless and performant web experience while browsing through a curated collection of images."};function x({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{children:[s.jsx(p,{}),s.jsx("main",{className:"max-w-6xl mx-auto",children:e})]})})}},1136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5036),a=r(5815);function n(){return s.jsx(a.Z,{})}},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,848,268],()=>r(5818));module.exports=s})();